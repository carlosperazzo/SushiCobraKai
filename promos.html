<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/estiloForm.css">
    <script>

       
        function AgregarCarrito(cant, descripcion, precio)
        {
            let ultItem=window.parent.document.getElementById('ultItem').value ;
            ultItem = (ultItem == null || ultItem == undefined || ultItem == "") ? 0 : ultItem;
            
            //Agrega al listado de pedido u producto por cada Sumar
            var total = window.parent.document.getElementById("total").innerHTML;
            var contador=window.parent.document.getElementById("carrito-contador").innerHTML; 
            let subtotal=0
            total = (total == null || total == undefined || total == "") ? 0 : total;
            contador = (contador == null || contador == undefined || contador == "") ? 0 : contador;
           
            contador=parseInt(contador) + parseInt(cant)
            window.parent.document.getElementById("carrito-contador").innerHTML=contador;
            
            total = (parseInt(total) + parseFloat(precio));
            subtotal=parseFloat(precio) * parseInt(cant)
            window.parent.document.getElementById('total').innerHTML = total;
            window.parent.document.getElementById('totalPedido').innerHTML = total;
            ocultarTotalVacio(total)
            
            var Tbl = window.parent.document.getElementById("carritoTable");
            
            let script=""
            if (ultItem==10)
                 script="<tr><td>Cant</td><td>Descripci√≥n</td><td>Precio</td><td>Total</td></tr>"
            ultItem++
            window.parent.document.getElementById('ultItem').value=ultItem

            
            script=script + "<tr><td><select id='Select" + ultItem + "' onclick='guardarCantAnt(this)' onchange='actualizarCantidadCarrito(this,"+  precio +")' style='width: 50px;'>";
            let x=1
        
            while (x<= 10)
            {
                if (x==cant)
                script=script + "<option value='" + x + "'" + " selected=''>"+ x +"</option>"
                else
                script=script + "<option value='" + x + "'" + ">"+ x +"</option>"
                x++
            }             
            script=script + "</select></td><td class='col-descrip'>"+descripcion+"</td>"
            script=script + "<td class='col-precio'>$"+ precio + "</td>"
            script=script + "<td class='col-precio' id='SubTot" + ultItem + "'>$" + subtotal + "</td></tr>"
            
         
            Tbl.insertRow(-1).innerHTML=script

            let PedidoEnviarAnt= window.parent.document.getElementById("PedidoEnviar").value + "<br>";
            PedidoEnviarAnt = (PedidoEnviarAnt == null || PedidoEnviarAnt == undefined ) ? "" : PedidoEnviarAnt;
            //window.parent.document.getElementById("PedidoEnviar").innerText= PedidoEnviarAnt + script
            //window.parent.document.getElementById("PedidoEnviar").value= PedidoEnviarAnt + cant+ "-----"+ descripcion + "----" + precio + "......." + subtotal
            
        }

        function ocultarTotalVacio(valor)
        {
            var x=window.parent.document.getElementById("totalizador");
            var contador=window.parent.document.getElementById("carrito-contador"); 
            var btnVerPedido=window.parent.document.getElementById("btnVerPedido") ; 

            valor = (valor == null || valor == undefined || valor == "") ? 0 : valor;
            if (valor==parseInt(0))
            {
                x.style.display = "none";
                contador.style.display = "none";
                btnVerPedido.style.display = "none";
            }
            else
            {
                x.style.display = "block";
                contador.style.display = "block";
                btnVerPedido.style.display = "block";
            }
        }
    </script>
</head>
<body>

   <div  class="container-fluid">
        <div id="productos" class="row">
        <div class="caja-producto">

            <div class="imagen" >
                <img src="imagenes/Exclusivas/alaska.jpg" >
            </div>
            <div class="titulo">
                <h3>Alaska 25</h3>
            </div>
            <div class="descripcion">
                <h4 class="producto-descripcion">El Clasico de POP! Combinado con Roll New York Phila x4, Buenos Aires x4, Persia x3, Paris x4, Philacuya x4, Clerck x6 Incluye 2 palitos + 2 salsa soja + 2 wasabi - Producto inalterable</h4>
            </div>
            <div class="precio">
                   $2899 
            </div>
            <input type="button" value="Quiero" class="btn btn-primary" onclick="AgregarCarrito('1', 'Alaska 25','2899');">
          
        </div>
    
        <div class="caja-producto">

            <div class="imagen" >
                <img src="imagenes/Exclusivas/Bilbao.jpg" alt="" >
            </div>
            <div class="titulo">
                <h3>Bilbao 25</h3>
            </div>
            <div class="descripcion">
                <h4 class="producto-descripcion">Riquisimo mix de Sabores Combinado con Roll New York Phila x4, Roll Tora x4, Roll Napoli x5, Roll Apaltado x4, Roll Firenze x5, Roll Paris x3</h4>
            </div>
            <div class="precio">
                   $2349 
            </div>
            <input type="button" value="Quiero" class="btn btn-primary" onclick="AgregarCarrito('1', 'Bilbao 25','2349');">
          
        </div>
        <div class="caja-producto">

            <div class="imagen" >
                <img src="imagenes/Exclusivas/tokio.jpg" alt="" >
            </div>
            <div class="titulo">
                <h3>Tokio 40</h3>
            </div>
            <div class="descripcion">
                <h4 class="producto-descripcion">Comes Rico y Pagas Poco Combinado con Roll California x10,Roll Napoli x10, Roll Valencia x8, Roll Paris x6, Roll Clerk x6</h4>
            </div>
            <div class="precio">
                   $1999 
            </div>
            <input type="button" value="Quiero" class="btn btn-primary" onclick="AgregarCarrito('1', 'Tokio 40','1999');">
          
        </div>
        
        
    </div>
    </div>
</body>
</html>